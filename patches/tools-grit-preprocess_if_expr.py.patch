diff --git a/tools/grit/preprocess_if_expr.py b/tools/grit/preprocess_if_expr.py
index 35c1b20bc2c83..385b34b3a52e3 100644
--- a/tools/grit/preprocess_if_expr.py
+++ b/tools/grit/preprocess_if_expr.py
@@ -93,6 +93,7 @@ def main(argv):
 
   for input_file in args.in_files:
     in_path = os.path.join(in_folder, input_file)
+  def preprocess_file(input_file, in_path):
     content = ""
     with open(in_path, encoding='utf-8') as f:
       content = f.read()
@@ -138,6 +139,7 @@ def main(argv):
     with open(out_path, mode='wb') as f:
       f.write(preprocessed.encode('utf-8'))
 
+  preprocess_overrides(args, in_folder, out_folder, preprocess_file)
   if args.out_manifest:
     manifest_data = {}
     manifest_data['base_dir'] = '%s' % args.out_folder
@@ -149,5 +151,6 @@ def main(argv):
   return
 
 
+from brave_chromium_utils import inline_chromium_src_override; inline_chromium_src_override(globals(), locals())
 if __name__ == '__main__':
   main(sys.argv[1:])
